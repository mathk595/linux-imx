/*
 * Copyright 2021 Garz & Fricke GmbH
 *
 */

/*
Remarks:
    - Use ETHERNET_ONLY_100MBIT for dual espresso board
Defines:
*/

#ifndef PANEL_LVDS_DTSI
#define PANEL_LVDS_DTSI

/ {
/*
	reg_display_pwr: display-pwr {
		compatible = "regulator-fixed";
		regulator-name = "DISPLAY PWCTRL";
		regulator-min-microvolt = <3300000>;
		regulator-max-microvolt = <3300000>;
		regulator-always-on;
		vin-supply = <&reg_vin_fused>;
	};
*/
/*
	reserved@board {
		compatible      = "kk,trizeps7-reserved";
		kk,gpio-names   = "LVDS-EN","BL-EN","PWM-EN";
		kk,os-gpios     = < 
			spin100_gpio   (KK_RSRVD_OUT_HI)
			spin114_gpio   (KK_RSRVD_OUT_HI)
			spin77_gpio    (KK_RSRVD_OUT_HI)
		>;
	};
*/
};

/ {
	panel_lvds1: panel1 {
		status          = "disabled";
		compatible      = "panel-lvds";
		data-mapping = "vesa-24";
		width-mm = <154>;
		height-mm = <86>;
		backlight = <&backlight>;
		enable-gpios = <spin100_gpio GPIO_ACTIVE_HIGH>;

		panel-timing {
			clock-frequency = <51206400>;
			hactive = <1024>;
			vactive = <600>;
			hfront-porch = <159>;
			hsync-len = <2>;
			hback-porch = <159>;
			vfront-porch = <17>;
			vsync-len = <1>;
			vback-porch = <17>;
		};

		port {
			panel_lvds1_in: endpoint {
				remote-endpoint = <&lvds1_out>;
			};
		};
	};

};

#if 1
&iomuxc {
	pinctrl_hog: hoggrp {
		fsl,pins = <
			SPIN100_GPIO1_IO05	PAD_GPIO	/* LCD1_VCC_ON */
			//SPIN77_GPIO1_IO01	PAD_GPIO
			//SPIN114_GPIO4_IO14	PAD_GPIO
		>;
	};
};
#endif

&lcdif1 {
	status = "okay";
};

&lcdif2 {
	status = "okay";
};

&ldb {
	status = "okay";
	lvds-channel@0 {
		status = "okay";
		fsl,data-mapping = "spwg";
		fsl,data-width = <24>;
		port@1 {
			reg = <1>;
			lvds1_out: endpoint {
				remote-endpoint = <&panel_lvds1_in>;
			};
		};
	};
};
/*
&ldb_phy {
	status = "okay";
};

&panel_lvds1 {
	status = "okay";
};

&backlight {
	status = "okay";
};

&pwm1 {
	status = "okay";
};
*/
#endif
